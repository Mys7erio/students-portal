{"version":3,"file":"3-67b94d15.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/login/_page.server.js","../../../.svelte-kit/adapter-node/nodes/3.js"],"sourcesContent":["import { randomUUID } from \"crypto\";\nimport { i as invalid } from \"../../../chunks/index2.js\";\nimport { a as checkLogin, r as registerSession } from \"../../../chunks/dbManager.js\";\nconst actions = {\n  default: async (event) => {\n    const creds = await event.request.formData();\n    const email = creds.get(\"email\");\n    const password = creds.get(\"password\");\n    console.log(email, password);\n    let user = await checkLogin(email, password);\n    if (user) {\n      let cookie = randomUUID();\n      event.cookies.set(\"SessionID\", cookie);\n      let context = {\n        role: user.Role,\n        first_name: user.first_name,\n        email: user.email\n      };\n      await registerSession(cookie, email);\n      return { success: true, userInfo: context };\n    } else {\n      console.log(\"Login Failed\");\n      return invalid(400, { incorrect: true });\n    }\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/login/_page.server.js';\n\nexport const index = 3;\nexport const component = async () => (await import('../entries/pages/login/_page.svelte.js')).default;\nexport const file = '_app/immutable/components/pages/login/_page.svelte-84f281f6.js';\nexport { server };\nexport const imports = [\"_app/immutable/components/pages/login/_page.svelte-84f281f6.js\",\"_app/immutable/chunks/index-ded4d6cf.js\",\"_app/immutable/chunks/stores-2b94fd3d.js\",\"_app/immutable/chunks/index-7b5ae4cd.js\"];\nexport const stylesheets = [\"_app/immutable/assets/_page-21cf7d41.css\"];\n"],"names":[],"mappings":";;;;;AAGA,MAAM,OAAO,GAAG;AAChB,EAAE,OAAO,EAAE,OAAO,KAAK,KAAK;AAC5B,IAAI,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;AACjD,IAAI,MAAM,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACrC,IAAI,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC3C,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AACjC,IAAI,IAAI,IAAI,GAAG,MAAM,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AACjD,IAAI,IAAI,IAAI,EAAE;AACd,MAAM,IAAI,MAAM,GAAG,UAAU,EAAE,CAAC;AAChC,MAAM,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;AAC7C,MAAM,IAAI,OAAO,GAAG;AACpB,QAAQ,IAAI,EAAE,IAAI,CAAC,IAAI;AACvB,QAAQ,UAAU,EAAE,IAAI,CAAC,UAAU;AACnC,QAAQ,KAAK,EAAE,IAAI,CAAC,KAAK;AACzB,OAAO,CAAC;AACR,MAAM,MAAM,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AAC3C,MAAM,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC;AAClD,KAAK,MAAM;AACX,MAAM,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;AAClC,MAAM,OAAO,OAAO,CAAC,GAAG,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;AAC/C,KAAK;AACL,GAAG;AACH,CAAC;;;;;;;ACvBW,MAAC,KAAK,GAAG,EAAE;AACX,MAAC,SAAS,GAAG,YAAY,CAAC,MAAM,OAAO,4BAAwC,CAAC,EAAE,QAAQ;AAC1F,MAAC,IAAI,GAAG,iEAAiE;AAEzE,MAAC,OAAO,GAAG,CAAC,gEAAgE,CAAC,yCAAyC,CAAC,0CAA0C,CAAC,yCAAyC,EAAE;AAC7M,MAAC,WAAW,GAAG,CAAC,0CAA0C;;;;"}